<script>
'use strict';
// 引入依赖
const nodemailer = require('nodemailer');

/**
 * 发送163邮件
 */
async function sendEmail(reader,subject,text,mode) {
  // 配置邮件服务器
  let transporter = nodemailer.createTransport({
    host: "smtp.163.com",
    port: 25,
    secure: false,
    auth: {
      user: 'handongliren@163.com',
      pass: '密码或授权码',
    },
  });

  // 发送邮件
  if(mode="text"){
    let info = await transporter.sendMail({
    from: '寒冬利刃的网站 <from handonglliren@163.com>',
    to: `to${reader}`,
    subject: subject,
    text: text
    })}
  else if(mode="html"){
    let info = await transporter.sendMail({
    from: '寒冬利刃的网站 <from handonglliren@163.com>',
    to: `to${reader}`,
    subject: subject,
    html: text
    })}

sendEmail('1079489986@qq.com','test','Helloo world!','text');
</script>
